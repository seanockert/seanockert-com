!function(){"use strict";function e(t,i){function o(e,t){return function(){return e.apply(t,arguments)}}var r;if(i=i||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=i.touchBoundary||10,this.layer=t,this.tapDelay=i.tapDelay||200,this.tapTimeout=i.tapTimeout||700,!e.notNeeded(t)){for(var a=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],s=this,c=0,l=a.length;l>c;c++)s[a[c]]=o(s[a[c]],s);n&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0)),t.addEventListener("click",this.onClick,!0),t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,n,i){var o=Node.prototype.removeEventListener;"click"===e?o.call(t,e,n.hijacked||n,i):o.call(t,e,n,i)},t.addEventListener=function(e,n,i){var o=Node.prototype.addEventListener;"click"===e?o.call(t,e,n.hijacked||(n.hijacked=function(e){e.propagationStopped||n(e)}),i):o.call(t,e,n,i)}),"function"==typeof t.onclick&&(r=t.onclick,t.addEventListener("click",function(e){r(e)},!1),t.onclick=null)}}var t=navigator.userAgent.indexOf("Windows Phone")>=0,n=navigator.userAgent.indexOf("Android")>0&&!t,i=/iP(ad|hone|od)/.test(navigator.userAgent)&&!t,o=i&&/OS 4_\d(_\d)?/.test(navigator.userAgent),r=i&&/OS [6-7]_\d/.test(navigator.userAgent),a=navigator.userAgent.indexOf("BB10")>0;e.prototype.needsClick=function(e){switch(e.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(e.disabled)return!0;break;case"input":if(i&&"file"===e.type||e.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(e.className)},e.prototype.needsFocus=function(e){switch(e.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!n;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!e.disabled&&!e.readOnly;default:return/\bneedsfocus\b/.test(e.className)}},e.prototype.sendClick=function(e,t){var n,i;document.activeElement&&document.activeElement!==e&&document.activeElement.blur(),i=t.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent(this.determineEventType(e),!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,e.dispatchEvent(n)},e.prototype.determineEventType=function(e){return n&&"select"===e.tagName.toLowerCase()?"mousedown":"click"},e.prototype.focus=function(e){var t;i&&e.setSelectionRange&&0!==e.type.indexOf("date")&&"time"!==e.type&&"month"!==e.type?(t=e.value.length,e.setSelectionRange(t,t)):e.focus()},e.prototype.updateScrollParent=function(e){var t,n;if(t=e.fastClickScrollParent,!t||!t.contains(e)){n=e;do{if(n.scrollHeight>n.offsetHeight){t=n,e.fastClickScrollParent=n;break}n=n.parentElement}while(n)}t&&(t.fastClickLastScrollTop=t.scrollTop)},e.prototype.getTargetElementFromEventTarget=function(e){return e.nodeType===Node.TEXT_NODE?e.parentNode:e},e.prototype.onTouchStart=function(e){var t,n,r;if(e.targetTouches.length>1)return!0;if(t=this.getTargetElementFromEventTarget(e.target),n=e.targetTouches[0],i){if(r=window.getSelection(),r.rangeCount&&!r.isCollapsed)return!0;if(!o){if(n.identifier&&n.identifier===this.lastTouchIdentifier)return e.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(t)}}return this.trackingClick=!0,this.trackingClickStart=e.timeStamp,this.targetElement=t,this.touchStartX=n.pageX,this.touchStartY=n.pageY,e.timeStamp-this.lastClickTime<this.tapDelay&&e.preventDefault(),!0},e.prototype.touchHasMoved=function(e){var t=e.changedTouches[0],n=this.touchBoundary;return Math.abs(t.pageX-this.touchStartX)>n||Math.abs(t.pageY-this.touchStartY)>n?!0:!1},e.prototype.onTouchMove=function(e){return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(e.target)||this.touchHasMoved(e))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},e.prototype.findControl=function(e){return void 0!==e.control?e.control:e.htmlFor?document.getElementById(e.htmlFor):e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},e.prototype.onTouchEnd=function(e){var t,a,s,c,l,u=this.targetElement;if(!this.trackingClick)return!0;if(e.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(e.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=e.timeStamp,a=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,r&&(l=e.changedTouches[0],u=document.elementFromPoint(l.pageX-window.pageXOffset,l.pageY-window.pageYOffset)||u,u.fastClickScrollParent=this.targetElement.fastClickScrollParent),s=u.tagName.toLowerCase(),"label"===s){if(t=this.findControl(u)){if(this.focus(u),n)return!1;u=t}}else if(this.needsFocus(u))return e.timeStamp-a>100||i&&window.top!==window&&"input"===s?(this.targetElement=null,!1):(this.focus(u),this.sendClick(u,e),i&&"select"===s||(this.targetElement=null,e.preventDefault()),!1);return i&&!o&&(c=u.fastClickScrollParent,c&&c.fastClickLastScrollTop!==c.scrollTop)?!0:(this.needsClick(u)||(e.preventDefault(),this.sendClick(u,e)),!1)},e.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},e.prototype.onMouse=function(e){return this.targetElement?e.forwardedTouchEvent?!0:e.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)?(e.stopImmediatePropagation?e.stopImmediatePropagation():e.propagationStopped=!0,e.stopPropagation(),e.preventDefault(),!1):!0:!0},e.prototype.onClick=function(e){var t;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===e.target.type&&0===e.detail?!0:(t=this.onMouse(e),t||(this.targetElement=null),t)},e.prototype.destroy=function(){var e=this.layer;n&&(e.removeEventListener("mouseover",this.onMouse,!0),e.removeEventListener("mousedown",this.onMouse,!0),e.removeEventListener("mouseup",this.onMouse,!0)),e.removeEventListener("click",this.onClick,!0),e.removeEventListener("touchstart",this.onTouchStart,!1),e.removeEventListener("touchmove",this.onTouchMove,!1),e.removeEventListener("touchend",this.onTouchEnd,!1),e.removeEventListener("touchcancel",this.onTouchCancel,!1)},e.notNeeded=function(e){var t,i,o,r;if("undefined"==typeof window.ontouchstart)return!0;if(i=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!n)return!0;if(t=document.querySelector("meta[name=viewport]")){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(i>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(a&&(o=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),o[1]>=10&&o[2]>=3&&(t=document.querySelector("meta[name=viewport]")))){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===e.style.msTouchAction||"manipulation"===e.style.touchAction?!0:(r=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],r>=27&&(t=document.querySelector("meta[name=viewport]"),t&&(-1!==t.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))?!0:"none"===e.style.touchAction||"manipulation"===e.style.touchAction?!0:!1)},e.attach=function(t,n){return new e(t,n)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return e}):"undefined"!=typeof module&&module.exports?(module.exports=e.attach,module.exports.FastClick=e):window.FastClick=e}(),function(e){var t,n,i,o,r,a,s,c="Close",l="BeforeAppend",u="MarkupParse",d="Open",p="Change",f="mfp",m="."+f,h="mfp-ready",v="mfp-removing",g="mfp-prevent-close",y=function(){},w=e(window),C=function(e,n){t.ev.on(f+e+m,n)},E=function(t,n,i,o){var r=document.createElement("div");return r.className="mfp-"+t,i&&(r.innerHTML=i),o?n&&n.appendChild(r):(r=e(r),n&&r.appendTo(n)),r},b=function(n,i){t.ev.triggerHandler(f+n,i),t.st.callbacks&&(n=n.charAt(0).toLowerCase()+n.slice(1),t.st.callbacks[n]&&t.st.callbacks[n].apply(t,e.isArray(i)?i:[i]))},k=function(){(t.st.focus?t.content.find(t.st.focus).eq(0):t.wrap).focus()},x=function(n){return n===s&&t.currTemplate.closeBtn||(t.currTemplate.closeBtn=e(t.st.closeMarkup.replace("%title%",t.st.tClose)),s=n),t.currTemplate.closeBtn};y.prototype={constructor:y,init:function(){var n=navigator.appVersion;t.isIE7=-1!==n.indexOf("MSIE 7."),t.isAndroid=/android/gi.test(n),t.isIOS=/iphone|ipad|ipod/gi.test(n),t.probablyMobile=t.isAndroid||t.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),i=e(document.body),o=e(document),t.popupsCache={}},open:function(n){if(!t.isOpen){var r;if(t.types=[],a="",t.ev=n.el||o,n.isObj)t.index=n.index||0;else{t.index=0;var s,c=n.items;for(r=0;c.length>r;r++)if(s=c[r],s.parsed&&(s=s.el[0]),s===n.el[0]){t.index=r;break}}n.key?(t.popupsCache[n.key]||(t.popupsCache[n.key]={}),t.currTemplate=t.popupsCache[n.key]):t.currTemplate={},t.st=e.extend(!0,{},e.magnificPopup.defaults,n),t.fixedContentPos="auto"===t.st.fixedContentPos?!t.probablyMobile:t.st.fixedContentPos,t.items=n.items.length?n.items:[n.items],t.bgOverlay||(t.bgOverlay=E("bg").on("click"+m,function(){t.close()}),t.wrap=E("wrap").attr("tabindex",-1).on("click"+m,function(n){var i=n.target;e(i).hasClass(g)||(t.st.closeOnContentClick?t.close():(!t.content||e(i).hasClass("mfp-close")||t.preloader&&n.target===t.preloader[0]||i!==t.content[0]&&!e.contains(t.content[0],i))&&t.close())}),t.container=E("container",t.wrap)),t.contentContainer=E("content"),t.st.preloader&&(t.preloader=E("preloader",t.container,t.st.tLoading));var l=e.magnificPopup.modules;for(r=0;l.length>r;r++){var p=l[r];p=p.charAt(0).toUpperCase()+p.slice(1),t["init"+p].call(t)}b("BeforeOpen"),t.st.closeBtnInside?(C(u,function(e,t,n,i){n.close_replaceWith=x(i.type)}),a+=" mfp-close-btn-in"):t.wrap.append(x()),t.st.alignTop&&(a+=" mfp-align-top"),t.fixedContentPos?t.wrap.css({overflow:t.st.overflowY,overflowX:"hidden",overflowY:t.st.overflowY}):t.wrap.css({top:w.scrollTop(),position:"absolute"}),(t.st.fixedBgPos===!1||"auto"===t.st.fixedBgPos&&!t.fixedContentPos)&&t.bgOverlay.css({height:o.height(),position:"absolute"}),o.on("keyup"+m,function(e){27===e.keyCode&&t.close()}),w.on("resize"+m,function(){t.updateSize()}),t.st.closeOnContentClick||(a+=" mfp-auto-cursor"),a&&t.wrap.addClass(a);var f=t.wH=w.height(),v={};if(t.fixedContentPos&&"scroll"!==t.st.overflowY){var y=t._getScrollbarSize();y&&(v.paddingRight=y)}t.fixedContentPos&&(t.isIE7?e("body, html").css("overflow","hidden"):v.overflow="hidden");var T=t.st.mainClass;t.isIE7&&(T+=" mfp-ie7"),T&&t._addClassToMFP(T),t.updateItemHTML(),b("BuildControls"),i.css(v),t.bgOverlay.add(t.wrap).prependTo(document.body),t._lastFocusedEl=document.activeElement,setTimeout(function(){t.content?(t._addClassToMFP(h),k()):t.bgOverlay.addClass(h),o.on("focusin"+m,function(n){return n.target===t.wrap[0]||e.contains(t.wrap[0],n.target)?void 0:(k(),!1)})},16),t.isOpen=!0,t.updateSize(f),b(d)}},close:function(){t.isOpen&&(t.isOpen=!1,t.st.removalDelay?(t._addClassToMFP(v),setTimeout(function(){t._close()},t.st.removalDelay)):t._close())},_close:function(){b(c);var n=v+" "+h+" ";if(t.bgOverlay.detach(),t.wrap.detach(),t.container.empty(),t.st.mainClass&&(n+=t.st.mainClass+" "),t._removeClassFromMFP(n),t.fixedContentPos){var r={paddingRight:0};t.isIE7?e("body, html").css("overflow","auto"):r.overflow="visible",i.css(r)}o.off("keyup"+m+" focusin"+m),t.ev.off(m),t.wrap.attr("class","mfp-wrap").removeAttr("style"),t.bgOverlay.attr("class","mfp-bg"),t.container.attr("class","mfp-container"),t.st.closeBtnInside&&t.currTemplate[t.currItem.type]!==!0||t.currTemplate.closeBtn&&t.currTemplate.closeBtn.detach(),t._lastFocusedEl&&e(t._lastFocusedEl).focus(),t.content=null,t.currTemplate=null,t.prevHeight=0},updateSize:function(e){if(t.isIOS){var n=document.documentElement.clientWidth/window.innerWidth,i=window.innerHeight*n;t.wrap.css("height",i),t.wH=i}else t.wH=e||w.height();b("Resize")},updateItemHTML:function(){var n=t.items[t.index];t.contentContainer.detach(),t.content&&t.content.detach(),n.parsed||(n=t.parseEl(t.index)),t.currItem=n;var i=n.type;if(!t.currTemplate[i]){var o=t.st[i]?t.st[i].markup:!1;b("FirstMarkupParse",o),t.currTemplate[i]=o?e(o):!0}r&&r!==n.type&&t.container.removeClass("mfp-"+r+"-holder");var a=t["get"+i.charAt(0).toUpperCase()+i.slice(1)](n,t.currTemplate[i]);t.appendContent(a,i),n.preloaded=!0,b(p,n),r=n.type,t.container.prepend(t.contentContainer)},appendContent:function(e,n){t.content=e,e?t.st.closeBtnInside&&t.currTemplate[n]===!0?t.content.find(".mfp-close").length||t.content.append(x()):t.content=e:t.content="",b(l),t.container.addClass("mfp-"+n+"-holder"),t.contentContainer.append(t.content)},parseEl:function(n){var i=t.items[n],o=i.type;if(i=i.tagName?{el:e(i)}:{data:i,src:i.src},i.el){for(var r=t.types,a=0;r.length>a;a++)if(i.el.hasClass("mfp-"+r[a])){o=r[a];break}i.src=i.el.attr("data-mfp-src"),i.src||(i.src=i.el.attr("href"))}return i.type=o||t.st.type,i.index=n,i.parsed=!0,t.items[n]=i,b("ElementParse",i),t.items[n]},addGroup:function(n,i){var o=function(o){var r=void 0!==i.midClick?i.midClick:e.magnificPopup.defaults.midClick;if(r||2!==o.which){var a=void 0!==i.disableOn?i.disableOn:e.magnificPopup.defaults.disableOn;if(a)if(e.isFunction(a)){if(!a.call(t))return!0}else if(a>e(window).width())return!0;o.preventDefault(),i.el=e(this),i.mainEl=n,i.delegate&&(i.items=n.find(i.delegate)),t.open(i)}};i||(i={});var r="click.magnificPopup";i.items?(i.isObj=!0,n.off(r).on(r,o)):(i.isObj=!1,i.delegate?n.off(r).on(r,i.delegate,o):(i.items=n,n.off(r).on(r,o)))},updateStatus:function(e,i){if(t.preloader){n!==e&&t.container.removeClass("mfp-s-"+n),i||"loading"!==e||(i=t.st.tLoading);var o={status:e,text:i};b("UpdateStatus",o),e=o.status,i=o.text,t.preloader.html(i),t.preloader.find("a").click(function(e){e.stopImmediatePropagation()}),t.container.addClass("mfp-s-"+e),n=e}},_addClassToMFP:function(e){t.bgOverlay.addClass(e),t.wrap.addClass(e)},_removeClassFromMFP:function(e){this.bgOverlay.removeClass(e),t.wrap.removeClass(e)},_hasScrollBar:function(e){return document.body.clientHeight>(e||w.height())?!0:!1},_parseMarkup:function(t,n,i){var o;i.data&&(n=e.extend(i.data,n)),b(u,[t,n,i]),e.each(n,function(e,n){if(void 0===n||n===!1)return!0;if(o=e.split("_"),o.length>1){var i=t.find(m+"-"+o[0]);if(i.length>0){var r=o[1];"replaceWith"===r?i[0]!==n[0]&&i.replaceWith(n):"img"===r?i.is("img")?i.attr("src",n):i.replaceWith('<img src="'+n+'" class="'+i.attr("class")+'" />'):i.attr(o[1],n)}}else t.find(m+"-"+e).html(n)})},_getScrollbarSize:function(){if(void 0===t.scrollbarSize){var e=document.createElement("div");e.id="mfp-sbm",e.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(e),t.scrollbarSize=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return t.scrollbarSize}},e.magnificPopup={instance:null,proto:y.prototype,modules:[],open:function(n,i){return e.magnificPopup.instance||(t=new y,t.init(),e.magnificPopup.instance=t),n||(n={}),n.isObj=!0,n.index=void 0===i?0:i,this.instance.open(n)},close:function(){return e.magnificPopup.instance.close()},registerModule:function(t,n){n.options&&(e.magnificPopup.defaults[t]=n.options),e.extend(this.proto,n.proto),this.modules.push(t)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeBtnInside:!0,alignTop:!1,removalDelay:0,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&times;</button>',tClose:"Close (Esc)",tLoading:"Loading..."}},e.fn.magnificPopup=function(n){return e.magnificPopup.instance||(t=new y,t.init(),e.magnificPopup.instance=t),t.addGroup(e(this),n),e(this)};var T,S="inline";e.magnificPopup.registerModule(S,{options:{hiddenClass:f+"-hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){t.types.push(S),T=!1,C(c+"."+S,function(){var e=t.currItem;if(e.type===S){if(T)for(var n=0;t.items.length>n;n++)e=t.items[n],e&&e.inlinePlaceholder&&e.inlinePlaceholder.after(e.inlineElement.addClass(t.st.inline.hiddenClass)).detach();e.inlinePlaceholder=e.inlineElement=null}})},getInline:function(n,i){if(t.updateStatus("ready"),n.src){var o=t.st.inline;return"string"!=typeof n.src&&(n.isElement=!0),n.isElement||n.inlinePlaceholder||(n.inlinePlaceholder=E(o.hiddenClass)),n.isElement?n.inlineElement=n.src:n.inlineElement||(n.inlineElement=e(n.src),n.inlineElement.length||(t.updateStatus("error",o.tNotFound),n.inlineElement=e("<div>"))),n.inlinePlaceholder&&(T=!0),n.inlineElement.after(n.inlinePlaceholder).detach().removeClass(o.hiddenClass),n.inlineElement}return t._parseMarkup(i,{},n),i}}});var P,I="ajax",L=function(){P&&i.removeClass(P)};e.magnificPopup.registerModule(I,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){t.types.push(I),P=t.st.ajax.cursor,C(c+"."+I,function(){L(),t.req&&t.req.abort()})},getAjax:function(n){P&&i.addClass(P),t.updateStatus("loading");var o=e.extend({url:n.src,success:function(i,o,r){b("ParseAjax",r),t.appendContent(e(r.responseText),I),n.finished=!0,L(),k(),setTimeout(function(){t.wrap.addClass(h)},16),t.updateStatus("ready")},error:function(){L(),n.finished=n.loadError=!0,t.updateStatus("error",t.st.ajax.tError.replace("%url%",n.src))}},t.st.ajax.settings);return t.req=e.ajax(o),""}}});var M,O=function(n){if(n.data&&void 0!==n.data.title)return n.data.title;var i=t.st.image.titleSrc;if(i){if(e.isFunction(i))return i.call(t,n);if(n.el)return n.el.attr(i)||""}return""};e.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><div class="mfp-img"></div><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var e=t.st.image,n=".image";t.types.push("image"),C(d+n,function(){"image"===t.currItem.type&&e.cursor&&i.addClass(e.cursor)}),C(c+n,function(){e.cursor&&i.removeClass(e.cursor),w.off("resize"+m)}),C("Resize"+n,function(){t.resizeImage()})},resizeImage:function(){var e=t.currItem;e.img&&t.st.image.verticalFit&&e.img.css("max-height",t.wH+"px")},_onImageHasSize:function(e){e.img&&(e.hasSize=!0,M&&clearInterval(M),e.isCheckingImgSize=!1,b("ImageHasSize",e),e.imgHidden&&(t.content&&t.content.removeClass("mfp-loading"),e.imgHidden=!1))},findImageSize:function(e){var n=0,i=e.img[0],o=function(r){M&&clearInterval(M),M=setInterval(function(){return i.naturalWidth>0?void t._onImageHasSize(e):(n>200&&clearInterval(M),n++,void(3===n?o(10):40===n?o(50):100===n&&o(500)))},r)};o(1)},getImage:function(n,i){var o=0,r=function(){n&&(n.img[0].complete?(n.img.off(".mfploader"),n===t.currItem&&(t._onImageHasSize(n),t.updateStatus("ready")),n.hasSize=!0,n.loaded=!0):(o++,200>o?setTimeout(r,100):a()))},a=function(){n&&(n.img.off(".mfploader"),n===t.currItem&&(t._onImageHasSize(n),t.updateStatus("error",s.tError.replace("%url%",n.src))),n.hasSize=!0,n.loaded=!0,n.loadError=!0)},s=t.st.image,c=i.find(".mfp-img");if(c.length){var l=new Image;l.className="mfp-img",n.img=e(l).on("load.mfploader",r).on("error.mfploader",a),l.src=n.src,c.is("img")&&(n.img=n.img.clone())}return t._parseMarkup(i,{title:O(n),img_replaceWith:n.img},n),t.resizeImage(),n.hasSize?(M&&clearInterval(M),n.loadError?(i.addClass("mfp-loading"),t.updateStatus("error",s.tError.replace("%url%",n.src))):(i.removeClass("mfp-loading"),t.updateStatus("ready")),i):(t.updateStatus("loading"),n.loading=!0,n.hasSize||(n.imgHidden=!0,i.addClass("mfp-loading"),t.findImageSize(n)),i)}}});var z="iframe",_=function(e){if(t.isIE7&&t.currItem&&t.currItem.type===z){var n=t.content.find("iframe");n.length&&n.css("display",e?"block":"none")}};e.magnificPopup.registerModule(z,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){t.types.push(z),_(!0),C(c+"."+z,function(){_()})},getIframe:function(n,i){var o=n.src,r=t.st.iframe;e.each(r.patterns,function(){return o.indexOf(this.index)>-1?(this.id&&(o="string"==typeof this.id?o.substr(o.lastIndexOf(this.id)+this.id.length,o.length):this.id.call(this,o)),o=this.src.replace("%id%",o),!1):void 0});var a={};return r.srcAction&&(a[r.srcAction]=o),t._parseMarkup(i,a,n),t.updateStatus("ready"),i}}});var A=function(e){var n=t.items.length;return e>n-1?e-n:0>e?n+e:e},F=function(e,t,n){return e.replace("%curr%",t+1).replace("%total%",n)};e.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var n=t.st.gallery,i=".mfp-gallery",r=Boolean(e.fn.mfpFastClick);return t.direction=!0,n&&n.enabled?(a+=" mfp-gallery",C(d+i,function(){n.navigateByImgClick&&t.wrap.on("click"+i,".mfp-img",function(){return t.next(),!1}),o.on("keydown"+i,function(e){37===e.keyCode?t.prev():39===e.keyCode&&t.next()})}),C("UpdateStatus"+i,function(e,n){n.text&&(n.text=F(n.text,t.currItem.index,t.items.length))}),C(u+i,function(e,i,o,r){var a=t.items.length;o.counter=a?F(n.tCounter,r.index,a):""}),C("BuildControls"+i,function(){if(n.arrows&&!t.arrowLeft){var i=n.arrowMarkup,o=t.arrowLeft=e(i.replace("%title%",n.tPrev).replace("%dir%","left")).addClass(g),a=t.arrowRight=e(i.replace("%title%",n.tNext).replace("%dir%","right")).addClass(g),s=r?"mfpFastClick":"click";o[s](function(){t.prev()}),a[s](function(){t.next()}),t.isIE7&&(E("b",o[0],!1,!0),E("a",o[0],!1,!0),E("b",a[0],!1,!0),E("a",a[0],!1,!0)),t.container.append(o.add(a))}}),C(p+i,function(){t._preloadTimeout&&clearTimeout(t._preloadTimeout),t._preloadTimeout=setTimeout(function(){t.preloadNearbyImages(),t._preloadTimeout=null},16)}),void C(c+i,function(){o.off(i),t.wrap.off("click"+i),r&&t.arrowLeft.add(t.arrowRight).destroyMfpFastClick(),t.arrowRight=t.arrowLeft=null})):!1},next:function(){t.direction=!0,t.index=A(t.index+1),t.updateItemHTML()},prev:function(){t.direction=!1,t.index=A(t.index-1),t.updateItemHTML()},goTo:function(e){t.direction=e>=t.index,t.index=e,t.updateItemHTML()},preloadNearbyImages:function(){var e,n=t.st.gallery.preload,i=Math.min(n[0],t.items.length),o=Math.min(n[1],t.items.length);for(e=1;(t.direction?o:i)>=e;e++)t._preloadItem(t.index+e);for(e=1;(t.direction?i:o)>=e;e++)t._preloadItem(t.index-e)},_preloadItem:function(n){if(n=A(n),!t.items[n].preloaded){var i=t.items[n];i.parsed||(i=t.parseEl(n)),b("LazyLoad",i),"image"===i.type&&(i.img=e('<img class="mfp-img" />').on("load.mfploader",function(){i.hasSize=!0}).on("error.mfploader",function(){i.hasSize=!0,i.loadError=!0}).attr("src",i.src)),i.preloaded=!0}}}});var N="retina";e.magnificPopup.registerModule(N,{options:{replaceSrc:function(e){return e.src.replace(/\.\w+$/,function(e){return"@2x"+e})},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var e=t.st.retina,n=e.ratio;n=isNaN(n)?n():n,n>1&&(C("ImageHasSize."+N,function(e,t){t.img.css({"max-width":t.img[0].naturalWidth/n,width:"100%"})}),C("ElementParse."+N,function(t,i){i.src=e.replaceSrc(i,n)}))}}}})}(window.jQuery||window.Zepto);var mobile=!1,downloadLink="";$(document).ready(function(){$("html").addClass("canAnim"),$("#episode-list img").unveil();var e=$("html, body");$("a.scroll").click(function(){var t=$.attr(this,"href");return e.animate({scrollTop:$(t).offset().top},500,function(){window.location.hash=t}),!1}),$(".popup-modal").magnificPopup({type:"inline",preloader:!1,modal:!0,callbacks:{open:function(){$("#container").addClass("blur")},close:function(){$("#container").removeClass("blur")}}}),$(".video-modal").magnificPopup({type:"iframe",disableOn:568,callbacks:{open:function(){$("#container").addClass("blur")},close:function(){$("#container").removeClass("blur")}}}),$(".image-modal").magnificPopup({type:"image",disableOn:568,closeOnContentClick:!0,image:{verticalFit:!0},callbacks:{open:function(){$("#container").addClass("blur")},close:function(){$("#container").removeClass("blur")}}}),$(document).on("click",".popup-modal-close",function(e){e.preventDefault(),$.magnificPopup.close()});var t,n=document.getElementById("slider"),i=document.getElementById("slider-nav");t=i.getElementsByTagName("button");for(var o=0,r=t.length;r>o;o++)t[o].onclick=function(){slider.slide(this.getAttribute("data-slide"))};window.slider=Swipe(n,{startSlide:0,auto:1e4,speed:250,draggable:!0,continuous:!0,callback:function(e,t){$(".swipe-nav button").removeClass("active"),$('.swipe-nav button[data-slide="'+e+'"]').addClass("active"),$("#characters").removeClass(),t.offsetWidth=t.offsetWidth,$("#characters").addClass("slide"+e)}})}),"Microsoft Internet Explorer"!=navigator.appName&&window.addEventListener("load",function(){new FastClick(document.body)},!1),$("a.arrow-right").click(function(e){e.preventDefault(),slider.next()}),$("a.arrow-left").click(function(e){e.preventDefault(),slider.prev()}),!function(e,t){"function"==typeof define&&define.amd?define([],function(){return e.Swipe=t()}):"object"==typeof exports?module.exports=t():e.Swipe=t()}(this,function(){function e(e,i){"use strict";function o(){C=x.children,k=C.length,C.length<2&&(i.continuous=!1),w.transitions&&i.continuous&&C.length<3&&(x.appendChild(C[0].cloneNode(!0)),x.appendChild(x.children[1].cloneNode(!0)),C=x.children),E=new Array(C.length),b=e.getBoundingClientRect().width||e.offsetWidth,x.style.width=C.length*b*2+"px";for(var t=C.length;t--;){var n=C[t];n.style.width=b+"px",n.setAttribute("data-index",t),w.transitions&&(n.style.left=t*-b+"px",u(t,T>t?-b:t>T?b:0,0))}i.continuous&&w.transitions&&(u(s(T-1),-b,0),u(s(T+1),b,0)),w.transitions||(x.style.left=T*-b+"px"),e.style.visibility="visible"}function r(){i.continuous?l(T-1):T&&l(T-1)}function a(){i.continuous?l(T+1):T<C.length-1&&l(T+1)}function s(e){return(C.length+e%C.length)%C.length}function c(){var e=T;return e>=k&&(e-=k),e}function l(e,t){if(T!==e){if(w.transitions){var n=Math.abs(T-e)/(T-e);if(i.continuous){var o=n;n=-E[s(e)]/b,n!==o&&(e=-n*C.length+e)}for(var r=Math.abs(T-e)-1;r--;)u(s((e>T?e:T)-r-1),b*n,0);e=s(e),u(T,b*n,t||S),u(e,0,t||S),i.continuous&&u(s(e-n),-(b*n),0)}else e=s(e),p(T*-b,e*-b,t||S);T=e,y(i.callback&&i.callback(c(),C[T]))}}function u(e,t,n){d(e,t,n),E[e]=t}function d(e,t,n){var i=C[e],o=i&&i.style;o&&(o.webkitTransitionDuration=o.MozTransitionDuration=o.msTransitionDuration=o.OTransitionDuration=o.transitionDuration=n+"ms",o.webkitTransform="translate("+t+"px,0)translateZ(0)",o.msTransform=o.MozTransform=o.OTransform="translateX("+t+"px)")}function p(e,t,n){if(!n)return void(x.style.left=t+"px");var o=+new Date,r=setInterval(function(){var a=+new Date-o;return a>n?(x.style.left=t+"px",L&&f(),i.transitionEnd&&i.transitionEnd.call(event,c(),C[T]),void clearInterval(r)):void(x.style.left=(t-e)*(Math.floor(a/n*100)/100)+e+"px")},4)}function f(){P=setTimeout(a,L)}function m(){L=0,clearTimeout(P)}function h(){m(),L=i.auto||0,f()}function v(e){return/^mouse/.test(e.type)}var g=function(){},y=function(e){setTimeout(e||g,0)},w={addEventListener:!!t.addEventListener,touch:"ontouchstart"in t||t.DocumentTouch&&n instanceof DocumentTouch,transitions:function(e){var t=["transitionProperty","WebkitTransition","MozTransition","OTransition","msTransition"];for(var n in t)if(void 0!==e.style[t[n]])return!0;return!1}(n.createElement("swipe"))};if(e){var C,E,b,k,x=e.children[0];i=i||{};var T=parseInt(i.startSlide,10)||0,S=i.speed||300;i.continuous=void 0!==i.continuous?i.continuous:!0,i.autoRestart=void 0!==i.autoRestart?i.autoRestart:!1;var P,I,L=i.auto||0,M={},O={},z={handleEvent:function(e){switch(e.type){case"mousedown":case"touchstart":this.start(e);break;case"mousemove":case"touchmove":this.move(e);break;case"mouseup":case"mouseleave":case"touchend":y(this.end(e));break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"otransitionend":case"transitionend":y(this.transitionEnd(e));break;case"resize":y(o)}i.stopPropagation&&e.stopPropagation()},start:function(e){var t;v(e)?(t=e,e.preventDefault()):t=e.touches[0],M={x:t.pageX,y:t.pageY,time:+new Date},I=void 0,O={},v(e)?(x.addEventListener("mousemove",this,!1),x.addEventListener("mouseup",this,!1),x.addEventListener("mouseleave",this,!1)):(x.addEventListener("touchmove",this,!1),x.addEventListener("touchend",this,!1))},move:function(e){var t;if(v(e))t=e;else{if(e.touches.length>1||e.scale&&1!==e.scale)return;i.disableScroll&&e.preventDefault(),t=e.touches[0]}O={x:t.pageX-M.x,y:t.pageY-M.y},"undefined"==typeof I&&(I=!!(I||Math.abs(O.x)<Math.abs(O.y))),I||(e.preventDefault(),m(),i.continuous?(d(s(T-1),O.x+E[s(T-1)],0),d(T,O.x+E[T],0),d(s(T+1),O.x+E[s(T+1)],0)):(O.x=O.x/(!T&&O.x>0||T===C.length-1&&O.x<0?Math.abs(O.x)/b+1:1),d(T-1,O.x+E[T-1],0),d(T,O.x+E[T],0),d(T+1,O.x+E[T+1],0)))},end:function(e){var t=+new Date-M.time,n=Number(t)<250&&Math.abs(O.x)>20||Math.abs(O.x)>b/2,o=!T&&O.x>0||T===C.length-1&&O.x<0;i.continuous&&(o=!1);var r=O.x<0;I||(n&&!o?(r?(i.continuous?(u(s(T-1),-b,0),u(s(T+2),b,0)):u(T-1,-b,0),u(T,E[T]-b,S),u(s(T+1),E[s(T+1)]-b,S),T=s(T+1)):(i.continuous?(u(s(T+1),b,0),u(s(T-2),-b,0)):u(T+1,b,0),u(T,E[T]+b,S),u(s(T-1),E[s(T-1)]+b,S),T=s(T-1)),i.callback&&i.callback(c(),C[T])):i.continuous?(u(s(T-1),-b,S),u(T,0,S),u(s(T+1),b,S)):(u(T-1,-b,S),u(T,0,S),u(T+1,b,S))),v(e)?(x.removeEventListener("mousemove",z,!1),x.removeEventListener("mouseup",z,!1),x.removeEventListener("mouseleave",z,!1)):(x.removeEventListener("touchmove",z,!1),x.removeEventListener("touchend",z,!1))},transitionEnd:function(e){parseInt(e.target.getAttribute("data-index"),10)===T&&((L||i.autoRestart)&&h(),i.transitionEnd&&i.transitionEnd.call(e,c(),C[T]))}};return o(),L&&f(),w.addEventListener?(w.touch&&x.addEventListener("touchstart",z,!1),i.draggable&&x.addEventListener("mousedown",z,!1),w.transitions&&(x.addEventListener("webkitTransitionEnd",z,!1),x.addEventListener("msTransitionEnd",z,!1),x.addEventListener("oTransitionEnd",z,!1),x.addEventListener("otransitionend",z,!1),x.addEventListener("transitionend",z,!1)),t.addEventListener("resize",z,!1)):t.onresize=function(){o()},{setup:function(){o()},slide:function(e,t){m(),l(e,t)},prev:function(){m(),r()},next:function(){m(),a()},restart:function(){h()},stop:function(){m()},getPos:function(){return c()},getNumSlides:function(){return k},kill:function(){m(),x.style.width="",x.style.left="";for(var e=C.length;e--;){var n=C[e];n.style.width="",n.style.left="",w.transitions&&d(e,0,0)}w.addEventListener?(x.removeEventListener("touchstart",z,!1),x.removeEventListener("mousedown",z,!1),x.removeEventListener("webkitTransitionEnd",z,!1),x.removeEventListener("msTransitionEnd",z,!1),x.removeEventListener("oTransitionEnd",z,!1),x.removeEventListener("otransitionend",z,!1),x.removeEventListener("transitionend",z,!1),t.removeEventListener("resize",z,!1)):t.onresize=null}}}}var t=this,n=t.document;return(t.jQuery||t.Zepto)&&!function(t){t.fn.Swipe=function(n){return this.each(function(){t(this).data("Swipe",new e(t(this)[0],n))})}}(t.jQuery||t.Zepto),e}),!function(e){e.fn.unveil=function(t,n){
function i(){var t=l.filter(function(){var t=e(this);if(!t.is(":hidden")){var n=r.scrollTop(),i=n+r.height(),o=t.offset().top,s=o+t.height();return s>=n-a&&i+a>=o}});o=t.trigger("unveil"),l=l.not(o)}var o,r=e(window),a=t||0,s=window.devicePixelRatio>1,c=s?"data-src-retina":"data-src",l=this;return this.one("unveil",function(){var e=this.getAttribute(c);e=e||this.getAttribute("data-src"),e&&(this.setAttribute("src",e),"function"==typeof n&&n.call(this))}),r.on("scroll.unveil resize.unveil lookup.unveil",i),i(),this}}(window.jQuery||window.Zepto);